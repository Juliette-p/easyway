<div class="basic-card card-search">
  <div class="sub-card-search col-sm-8 my-3">
    <%= form_with url: activities_path, method: :get, class: "d-flex flex-column", data: { controller: "autocomplete-search" } do %>

      <%# champs texte pour sélectionner une addresse %>
      <div class="search-tab-field">
        <%= text_field_tag "search",
          params[:search],
          class: "form-control",
          placeholder: "Rechercher...",
          data: { action: "keyup->autocomplete-search#autocomplete", target: "autocomplete-search.searchText"}
        %>
      </div>

      <%# div en dessous pour proposer une autocomplétion. %>
      <%# l'autocomplétion fonctionne, on affiche les 5 premiers. Par contre elle n'est pas gérée dans une popup superposée à la view %>
      <%# il faut rajouter la copie dans le champs search %>
      <div class="card-autocompletion" data-autocomplete-search-target="autocompletionResult" style="display: none;">
        <%# <ul id="results"><li></li></ul> %>
        <div id="results" style="background-color: white; border-radius: 5px;"></div>
      </div>

      <div class="checkbox-row">
        <%# champs checkbox (booléen) pour sélectionner le filtre accès poussette %>
        <div class="search-tab-field">
          <%= check_box_tag :stroller,
            "1",
            params[:stroller],
            class: "form-check-input",
            id: "checkbox1"
          %>
          <%= label_tag :stroller,
            "",
            for: "checkbox1"
          %>
        </div>

        <%# champs checkbox (booléen) pour sélectionner le filtre table à langer %>
        <div class="search-tab-field">
          <%= check_box_tag :changing_table,
            "1",
            params[:changing_table],
            class: "form-check-input",
            id: "checkbox2"
          %>
          <%= label_tag :changing_table,
            "",
            for: "checkbox2"
          %>
        </div>

        <%# champs checkbox (booléen) pour sélectionner le filtre chaise haute %>
        <div class="search-tab-field">
          <%= check_box_tag :high_chair,
            "1",
            params[:high_chair],
            class: "form-check-input",
            id: "checkbox3"
          %>
          <%= label_tag :high_chair,
            "",
            for: "checkbox3"
          %>
        </div>

        <%# champs checkbox (booléen) pour sélectionner le filtre kids friendly %>
        <div class="search-tab-field">
          <%= check_box_tag :kids_friendly,
            "1",
            params[:kids_friendly],
            class: "form-check-input",
            id: "checkbox4"
          %>
          <%= label_tag :kids_friendly,
            "",
            for: "checkbox4"
          %>
        </div>
      </div>

      <%# champs collection pour sélectionner la catégorie %>
      <%# <%= f.input :artist, :collection => Artist.all, prompt: "Choose a category" %>
      <div class="search-tab-field">
        <%= select_tag :category,
          options_for_select(Activity::ACTIVITY_CATEGORY, params[:category]),
          class: 'form-control',
          prompt: "Sélectionner une catégorie..."
        %>
      </div>

      <%# bouton de recherche %>
      <%= submit_tag "Search", name: "Rechercher", class: "yellow_small_btn mt-2" %>
    <% end %>
  </div>
</div>
